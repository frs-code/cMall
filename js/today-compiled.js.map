{"version":3,"sources":["today.js"],"names":[],"mappings":"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","file":"today-compiled.js","sourcesContent":["//今日推荐\r\n(($)=>{\r\n    //用计时器实现节流\r\n    function throttle(func,wait){\r\n        var timer = null;\r\n        return function(){\r\n            var then = this;\r\n            var argu = arguments;\r\n            if(!timer){\r\n                timer = setTimeout(function(){\r\n                    func.call(then,argu);\r\n                    clearTimeout(timer);\r\n                    timer = null;\r\n                },wait);\r\n            }\r\n        }\r\n    }\r\n    var slider = {\r\n        nowIndex:0,\r\n        flag:true,\r\n        len:$('.slider-container').length,\r\n        w:$('.today-container').width(),\r\n        sliderTimer:undefined,\r\n        direction:undefined,\r\n        init(){\r\n            this.createElem();\r\n            this.bindEvent();\r\n            this.autoPlay();\r\n        },\r\n        autoPlay(){\r\n            this.sliderTimer = setTimeout(()=>{\r\n                this.move('next');\r\n            },3000);\r\n        },\r\n        createElem(){\r\n            var html =`<div class=\"slider-control slider-control-left\">&lt;</div>\r\n           <div class=\"slider-control slider-control-right\">&gt;</div>`;\r\n            $('.today-container').append(html);\r\n        },\r\n        bindEvent(){\r\n            var then = this;\r\n            function pre(){\r\n                then.move('prev');\r\n                clearTimeout(then.sliderTimer);\r\n            }\r\n            function next(){\r\n                then.move('next');\r\n                clearTimeout(then.sliderTimer);\r\n            }\r\n            $('.slider-control-left').on('click',throttle(pre,500));\r\n            $('.slider-control-right').on('click',throttle(next,500));\r\n            $('.slider').hover(()=>{\r\n                clearTimeout(this.sliderTimer);\r\n            },()=>{\r\n                var timer = setTimeout(()=>{\r\n                    if(this.direction == \"prev\" || this.direction==\"next\"){\r\n                        this.move(this.direction);\r\n                    }else{\r\n                        this.move(\"next\");\r\n                    }\r\n                    clearTimeout(timer);\r\n                },2500)\r\n            });\r\n        },\r\n        move(direction){\r\n            var then = this;\r\n            this.direction = direction;\r\n            if(this.flag) {\r\n                this.flag=false;\r\n                var start = 1;\r\n                if(direction == 'prev' || direction == 'next') {\r\n                    if(direction == 'prev'){\r\n                        this.nowIndex --;\r\n                        if(this.nowIndex < 0) {\r\n                            $('.slider-item').css({left: -(this.w * this.len)});\r\n                            this.nowIndex = this.len - 1;\r\n                        }\r\n                    }else {\r\n                        this.nowIndex ++;\r\n                        if(this.nowIndex > this.len-1) {\r\n                            start = 0;\r\n                            $('.slider-item').animate({left: -(this.w * this.len)}, function () {\r\n                                $(this).css({left: 0});\r\n                                clearTimeout(then.sliderTimer);\r\n                                then.autoPlay();\r\n                                then.flag = true;\r\n                            });\r\n                            this.nowIndex = 0;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if(start) {\r\n                $('.slider-item').animate({left: -(this.w * this.nowIndex)}, function () {\r\n                    clearTimeout(then.sliderTimer);\r\n                    then.autoPlay();\r\n                    then.flag = true;\r\n                });\r\n            }\r\n        }\r\n    };\r\n    slider.init();\r\n\r\n})(jQuery);"]}